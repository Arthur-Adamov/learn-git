# Шпаргалка по работе с Git.

## Базовыве команды консоли.

### Навигация.

`pwd` *(от англ. print working directory, "показать рабочую папку")* - покажи, в какой я папке.

`ls` *(от англ. list directory contents, "отобразить содкржимое директории")* - покажи файлы и папки в текущей папке.

`ls -a` - покажи скрытые файлы и папки, названия которыз начинаются с символа . .

`cd` *(от англ. change directory, "сменить даректорию")* - перейти в папку, название которой нужно написать после команды.

`cd ..` - перейти на уровеньвыше, в родительскую папку.

`cd ~` - перейти в домашнюю директорию.

`cd /` - перейти в корневую диркторию.

## Работа с файлами и папками.

### Создание.

`touch index.html` *(англ. touch, "коснуться")* - создай файл index.html в текущей папке.

`touch index.html style.css script.js` - если нужно создать сразу несколько файлов, можно напечатать из имена в одну строку через пробел.

`mkdir second-project` *(от англ. make directory, "создай директорию")* - создай папку с именем second-project в текущей папке.

### Копирование и перемещение.

`cp file.txt ~/my-dir` *(от англ. copy, "копировать")* - скопируй файл file.txt в директорию my-dir.

`mv file.txt ~/my-dir` *(от англ. move, "переместить")* - перемести файл в указанную директорию.

### Чтение.

`cat file.txt` *(от англ. concatenate and print, "объединить и распечатать")* - распечатай содержимое текстового файла file.txt.

### Удаление.

`rm about.html` *(от англ. remove, "удалить")* - удали файл about.html.

`rmdir images` *(от англ. remove direktory, "удали директорию")* - удали папку images.

`rm -r second-project` *(от англ. remove "удалить" + recursive "рекурсивный")* - удали папку second-project и всё , что она содержит.

---

## Git.

`git init` *(от англ. initialize "инициализировать")* - делает выбранную папку репозиторием.

`rm -rf .git` - "разгитить" папку, если что-то пошло не так. Вся история проекта будет удалена.

`git status` - проверить состояние репозитория.

### Добавление файлов в репозиторий.

`git add` - *(после этой команды указывается имя файла)* - подготовить файлы к сохранению.

`git add --all` - подготовить к сохранению все файлы в репозитории.

`git add .` - подготовить всю текущую папку.

### Создание коммитов.

`git commit` - выполнить коммит.

`git commit -m "сообщение"` - выполнить коммит с комментарием.

`git log` - посмотреть историю коммитов.

`git log --oneline` - посмотреть историю коммитов в сокращенном виде.

---

## Работа с GitHub.

`git remote add origin` - связываем локальный репо с удаленным перед отправкой измененний в удаленный репо.

`git remote -v` - посмотреть удаленные URL-адреса. Отражает удаленные подключения к другим репозиториям.

`git push -u origin main` - связываем локальную ветку с удаленной в созданном на GitHub репозитории.

---

## Статусы файлов в Git.

* **untracked** *(от англ. "неотлсеживаемый")*

Новые файлы в репозитории помечаются как **untracked**, то есть неотслеживаемые. **Git** видит такой файл, но не следит за изменениями в нем.

* **staged**  *(англ. "подготовленный")*

После выполнения команды `git add` файл попадает в **stagind area**, то есть в список файлов, которые войдут в коммит.

* **tracked**  *(англ. "отслеживаемый")*

Состояние **tracked** - это противоположность **untracked**. В него попадут файлы, которые уже были зафиксированны с помощью `git commit`, а также файлы, которые были добавлены в **staging area** командой `git add`. То есть все файлы, в которых **Git** так или иначе отслеживает изменения.

* **modified** *(англ. "измененный")*

Состояние **modified** означает, что **Git** сравнил содержимое файла с последней сохраненной версией и нашел отличия. Например, файл был закомичен и после этого изменен.

  ```mermaid
flowchart TD;
    A(untracked) -->|git add| B(staged);
    B --> |git commit| C(tracked);
    C -->|изменения| D(modified);
    B -->|изменения| D(mofified);
    D -->|git add| B;
```

---

## Хеш — идентификатор коммита.

### Что такое хеш. Хеширование коммитов.

**Хеширование** *(от англ. hash, «рубить», «крошить», «мешанина»)* — это способ преобразовать набор данных и получить их «отпечаток» *(англ. fingerprint)*.

**Информация о коммите** — это набор данных: когда был сделан коммит, содержимое файлов в репозитории на момент коммита и ссылка на предыдущий, или родительский (англ. parent), коммит.

### Хеш — основной идентификатор коммита
**Git** хранит таблицу соответствий `хеш → информация о коммите.` Если вы знаете хеш, вы можете узнать всё остальное: автора и дату коммита и содержимое закоммиченных файлов. Их можно будет передавать в качестве параметра разным **Git-командам**, чтобы указать, с каким коммитом нужно произвести то или иное действие.

Все хеши и таблицу `хеш → информация о коммите` **Git** сохраняет в служебные файлы. Они находятся в скрытой папке `.git` в репозитории проекта.

---

## Исследуем лог.

После вызова `git log` появляется список коммитов:

```
Артур@DESKTOP-VJEINQP MINGW64 ~/dev/learn-git (main)
$ git log
commit 32aa3e464aac7284e7f2c4c34d8fe22e7d4bbbc8 (HEAD -> main, origin/main)
Author: Artur Adamov <artur.adamov03340@yandex.ru>
Date:   Wed Jan 24 14:34:46 2024 +0300

    исправил выделения команд MARKDOUW

commit 494ac42e24d21c8faf9098169c75f741b75c9dad
Author: Arthur-Adamov <vasiliy.moroz2601@gmail.com>
Date:   Sun Jan 21 22:56:03 2024 +0300

    добавил пункт в абзац Добавление файлов в репо

commit 4101d1d3559bc74616003761d30992258d4625bd
Author: Arthur-Adamov <vasiliy.moroz2601@gmail.com>
Date:   Sun Jan 21 19:17:49 2024 +0300

    добавил MARKDOWN
```

Получить сокращённый лог — `git log --oneline`:

```
Артур@DESKTOP-VJEINQP MINGW64 ~/dev/learn-git (main)
$ git log --oneline
32aa3e4 (HEAD -> main, origin/main) исправил выделения команд MARKDOUW
8a89702 Update README.md
494ac42 добавил пункт в абзац Добавление файлов в репо
4101d1d добавил MARKDOWN
bfb5ab8 исправил пункт Работа с GitHub.
```

